<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bloom Dashboard - Your Roadmap</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&display=swap"
        rel="stylesheet" />
    <link href="../input.css" rel="stylesheet" />
    <link href="../styles/main.css" rel="stylesheet" />
</head>

<body class="flex flex-col h-screen overflow-hidden bg-page">
    <!-- NAVBAR -->
    <div id="navbar-container" class="shrink-0 z-50 h-20"></div>
    <div class="flex flex-1 overflow-hidden relative">
        <!-- SIDEBAR -->
        <div id="sidebar-container" class="h-full shrink-0"></div>

        <!-- MAIN BODY -->
        <main class="flex-1 flex flex-col bg-page relative overflow-hidden">
            <!-- Breadcrumb -->
            <div id="breadcrumbs-container"></div>
            <!--  PAGE CONTENT-->
            <div id="page-content"
                class="flex-1 overflow-y-auto p-8 tablet:p-6 mobile:p-4 scroll-smooth custom-scrollbar">
                <!-- PAGE CONTENT MAIN -->
                <div id="page-content-main" class="max-w-5xl mx-auto">

                    <!-- 1. Header Section: Mascot + Bubble -->
                    <div
                        class="flex flex-row tablet:flex-col items-center justify-center gap-8 mb-16 animate-fade-in-up">
                        <!-- Mascot -->
                        <div class="w-40 h-40 relative">
                            <div class="absolute inset-0 bg-brand-primary/20 blur-xl rounded-full animate-pulse"></div>
                            <img src="../../public/images/mascot.png" alt="Bloom Mascot"
                                class="w-full h-full object-contain relative z-10 animate-bounce-slow" />
                        </div>

                        <!-- Speech Bubble -->
                        <div
                            class="relative bg-white dark:bg-base-800 p-6 rounded-2xl border border-base-200 dark:border-base-700 shadow-lg max-w-lg">
                            <!-- Arrow pointing left (to mascot) -->
                            <div
                                class="absolute top-1/2 -left-3 -translate-y-1/2 w-0 h-0 border-t-[10px] border-t-transparent border-b-[10px] border-b-transparent border-r-[12px] border-r-white dark:border-r-base-800 block tablet:hidden">
                            </div>
                            <!-- Arrow pointing top (for mobile) -->
                            <div
                                class="absolute -top-3 left-1/2 -translate-x-1/2 w-0 h-0 border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent border-b-[12px] border-b-white dark:border-b-base-800 hidden tablet:block">
                            </div>

                            <h3 class="text-xl font-bold text-brand-primary mb-2">My Analysis</h3>
                            <p class="text-content-secondary text-lg leading-relaxed italic">
                                "Based on your interest in <span class="text-content-primary font-semibold">Creative
                                    Design</span> and logic, here is a personalized path to become a <span
                                    class="text-content-primary font-bold">UX Designer</span>!"
                            </p>
                        </div>
                    </div>

                    <!-- 2. Roadmap Title -->
                    <div class="text-center mb-12 animate-fade-in-up" style="animation-delay: 0.2s">
                        <h1 class="text-3xl font-bold text-content-primary mb-2" data-i18n="onboarding.resultTitle">Here
                            is your personalized roadmap</h1>
                        <div class="h-1 w-24 bg-brand-primary mx-auto rounded-full"></div>
                    </div>

                    <!-- 3. Timeline Section -->
                    <div class="relative max-w-3xl mx-auto px-4 pb-12">
                        <!-- Vertical Line -->
                        <div
                            class="absolute left-8 top-0 bottom-0 w-2 rounded-full bg-neutral-200 dark:bg-neutral-700 -translate-x-1/2">
                        </div> <!-- Mobile align fix -->

                        <!-- Timeline Container for dynamic items -->
                        <div id="timeline-container" class="space-y-10 pb-12">
                            <!-- Dynamic Items Rendered Here -->
                        </div>
                    </div>

                    <!-- 4. Action Buttons -->
                    <div class="flex justify-center gap-4 mt-8 mb-20 animate-fade-in-up" style="animation-delay: 1s">
                        <button onclick="window.location.href='onboarding.html'"
                            class="px-6 py-3 rounded-xl font-semibold border border-base-300 dark:border-base-700 hover:bg-base-200 dark:hover:bg-base-800 text-content-primary transition-all active:scale-95 flex items-center gap-2">
                            <iconify-icon icon="solar:restart-bold"></iconify-icon>
                            <span data-i18n="onboarding.reset">Start Over</span>
                        </button>
                        <button
                            class="bg-brand-primary hover:bg-brand-secondary text-white px-8 py-3 rounded-xl font-bold shadow-lg shadow-brand-primary/20 transition-all hover:scale-105 active:scale-95 flex items-center gap-2">
                            <iconify-icon icon="solar:disk-bold"></iconify-icon>
                            <span data-i18n="onboarding.save">Save Roadmap</span>
                        </button>
                    </div>

                </div>

                <!-- END PAGE CONTENT MAIN -->
                <!-- FOOTER CONTAINER -->
                <div id="footer-container"></div>
            </div>
        </main>
    </div>

    <!-- Source -->
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <script type="module">
        import { updateLanguage } from "../utils/main.js";
        import "../components/navbar.js";
        import "../components/sidebar.js";

        // MOCK DATA: Steps for Roadmap (All not-started for onboarding result)
        const steps = [
            {
                status: "not-started",
                title: "UX Fundamentals & Design Thinking",
                desc: "Understand the core principles of User Experience, Empathy maps, and the Design Thinking process.",
            },
            {
                status: "not-started",
                title: "Wireframing & Prototyping (Figma)",
                desc: "Learn to build low-fidelity wireframes and high-fidelity interactive prototypes using Figma.",
            },
            {
                status: "not-started",
                title: "User Research & Usability Testing",
                desc: "Conduct user interviews, create personas, and run usability tests to validate designs.",
            },
            {
                status: "not-started",
                title: "UI Design Principles",
                desc: "Master Typography, Color Theory, Spacing, and Layout grids for beautiful interfaces.",
            },
            {
                status: "not-started",
                title: "Portfolio Building",
                desc: "Compile your projects into a professional portfolio to apply for Senior UX Designer jobs.",
            }
        ];

        const timelineContainer = document.getElementById("timeline-container");

        const renderTimeline = () => {
            if (!timelineContainer) return;

            timelineContainer.innerHTML = steps.map((step) => {
                // Config based on status
                let icon = '';
                let statusColor = '';
                let cardBorder = '';
                let badgeClass = '';
                let badgeText = '';
                icon = 'ic:outline-circle'; // Keeping the outline circle as per previous specific request for "icon rá»—ng"
                statusColor = 'text-neutral-400 dark:text-neutral-500';
                cardBorder = 'border-neutral-200 dark:border-neutral-700';
                badgeClass = 'bg-neutral-100 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400';
                badgeText = 'status.notStarted';

                return `
                 <div class="relative flex items-start group">
                      
                      <!-- Icon Node (Centered on Left Line - Vertically Centered) -->
                      <div class="absolute left-4 -translate-x-1/2 top-1/2 -translate-y-1/2 w-10 h-10 bg-page rounded-full z-10 flex items-center justify-center">
                          <iconify-icon icon="${icon}" class="text-3xl ${statusColor}"></iconify-icon>
                      </div>

                      <!-- Content Card (Pushed Right) -->
                      <div class="ml-16 w-full pl-0">
                           ${createCardHTML(step, cardBorder, badgeClass, badgeText)}
                      </div>
                 </div>
                 `;
            }).join("");
        };

        const createCardHTML = (step, borderColor, badgeClass, badgeTextKey) => {
            return `
               <div class="bg-card p-6 rounded-2xl border ${borderColor} shadow-sm bg-white dark:bg-base-900 transition-all hover:shadow-md hover:-translate-y-1 duration-300">
                   <div class="flex justify-between items-start mb-3">
                       <span class="text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-md ${badgeClass}" data-i18n="${badgeTextKey}">
                          Status
                       </span>
                   </div>
                   <h4 class="text-xl font-bold text-content-primary mb-2">${step.title}</h4>
                   <p class="text-sm text-content-secondary mb-4 leading-relaxed">
                       ${step.desc}
                   </p>
                   
                   <button class="flex items-center gap-2 text-xs font-semibold text-content-secondary hover:text-brand-primary transition-colors">
                       <iconify-icon icon="solar:book-bookmark-bold"></iconify-icon>
                       <span data-i18n="roadmap.recCourses">Recommended Courses</span>
                   </button>
               </div>
             `;
        };

        // Initialize Render
        renderTimeline();

        // Update Language delay
        setTimeout(() => {
            updateLanguage();
        }, 100);
    </script>
</body>

</html>